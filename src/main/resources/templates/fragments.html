<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
  </head>
  <body>
    <div th:fragment="cookieMessage">
      <div id="cookieHeader" th:unless="${token.cookieAccepted}">
        <div >Dieser Web-Dienst verwendet einen technisch notwendigen Cookie. 
          Sollten Sie mit der Verwendung nicht einverstanden sein, 
          müssen Sie sich am Servicedesk schriftlich in die Personenliste eintragen.
          <input style="margin-top: 0.5em;" type="button" value="Cookie akzeptieren" 
                 onClick="acceptCookie()"> 
        </div>
      </div>
    </div>     

    <div th:fragment="pageHeader" th:remove="tag">
      <head>
        <meta charset="UTF-8">
        <title th:text='${title}'>Unbekannt</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="Ostfalia, Rechenzentrum">
        <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
        <link th:href="@{/custom/css/starter-template.css}" rel="stylesheet">
        <link th:href="@{/css/main.css}" rel="stylesheet" type="text/css" >
        <link th:href="@{/css/fontawesome.min.css}" rel="stylesheet" type="text/css" >
        <link th:href="@{/css/solid.min.css}" rel="stylesheet" type="text/css" >

        <!-- favicons -->
        <link rel="apple-touch-icon" sizes="57x57" th:href="@{/icons/apple-icon-57x57.png}">
        <link rel="apple-touch-icon" sizes="60x60" th:href="@{/icons/apple-icon-60x60.png}">
        <link rel="apple-touch-icon" sizes="72x72" th:href="@{/icons/apple-icon-72x72.png}">
        <link rel="apple-touch-icon" sizes="76x76" th:href="@{/icons/apple-icon-76x76.png}">
        <link rel="apple-touch-icon" sizes="114x114" th:href="@{/icons/apple-icon-114x114.png}">
        <link rel="apple-touch-icon" sizes="120x120" th:href="@{/icons/apple-icon-120x120.png}">
        <link rel="apple-touch-icon" sizes="144x144" th:href="@{/icons/apple-icon-144x144.png}">
        <link rel="apple-touch-icon" sizes="152x152" th:href="@{/icons/apple-icon-152x152.png}">
        <link rel="apple-touch-icon" sizes="180x180" th:href="@{/icons/apple-icon-180x180.png}">
        <link rel="icon" type="image/png" sizes="192x192"  th:href="@{/icons/android-icon-192x192.png}">
        <link rel="icon" type="image/png" sizes="32x32" th:href="@{/icons/favicon-32x32.png}">
        <link rel="icon" type="image/png" sizes="96x96" th:href="@{/icons/favicon-96x96.png}">
        <link rel="icon" type="image/png" sizes="16x16" th:href="@{/icons/favicon-16x16.png}">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" th:content="@{/icons/ms-icon-144x144.png}">
        <meta name="theme-color" content="#ffffff">
      </head>
    </div>    

    <div th:fragment="adminBodyHeader" th:remove="tag">      
      <img id="qrlogo" width="64" height="64" th:src="@{/image/logo.png}" />
      <div class="row">
        <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
        <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
          <h1 id="roomtype" th:text='${title}'>Unbenannt</h1>
        </div>
        <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
      </div>
      <div id="logout">
        <span th:text="${token.givenName}" th:remove="tag" /> <span th:text="${token.sn}" th:remove="tag"/>
        <span class="dropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" 
                  id="dropdownMenuButton" data-toggle="dropdown" 
                  aria-haspopup="true" aria-expanded="false"><i class="fas fa-bars"></i></button>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" th:href="@{/admin}"><i class="fas fa-pencil-alt"></i> Raum-Administration</a>
            <a class="dropdown-item" th:href="@{/admin/trace-contacts}"><i class="fas fa-id-card"></i> Kontaktverfolgung</a>
            <a title="Logout" class="dropdown-item" th:href="@{/sys/logout}"><i class="fas fa-sign-out-alt"></i> Abmelden</a>
          </div>
        </span>
      </div>
    </div>

    <div th:fragment="bodyHeader">
      <img id="qrlogo" width="64" height="64" th:src="@{/image/logo.png}" />
      <div class="row">
        <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
        <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
          <h1 id="roomtype" th:text='${title}'>Unbenannt</h1>
        </div>
        <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
      </div>
    </div>

    <div th:fragment="bodyFooter">
      <script th:src="@{/jquery/jquery-3.5.1.min.js}" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script>
      <script>window.jQuery;</script>
      <script th:src="@{/js/popper.min.js}"></script>
      <script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
      <script th:src="@{/custom/js/next-input.js}"></script>
      <script th:src="@{/custom/js/submit.js}"></script>
      <div th:if="${errorMessage}">
        <div th:unless="${errorMessage.done}">
          <!-- Modal -->
          <div class="modal fade" id="errorDialog" tabindex="-1" role="dialog" aria-labelledby="errorDialogTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="errorDialogTitle"><div th:text="${errorMessage.title}" /></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div th:text="${errorMessage.message}" ></div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script>
          $('#errorDialog').modal('show');
        </script>
      </div>
      <script>
        $('.dropdown-toggle').dropdown();
      </script>
      <p id="footer"><font size="-1"><a th:href="${config.imprintLink} ? ${config.imprintLink} : @{/imprint.html}">Impressum</a> - <a th:href="@{/privacypolicy.html}">Datenschutzerklärung</a> - <a th:href="${config.accessibilityLink} ? ${config.accessibilityLink} : @{/accessibility.html}">Erklärung zur Barrierefreiheit</a></font></p>
    </div>


    <div th:fragment="confirmationMessage">
      <!-- confirmation message alert -->
      <div id="sendDataModalMessage" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Vielen Dank.</h5>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <p>Sie helfen durch Ihre Teilnahme sich und andere zu schützen.</p>
              <p id="valuesForMessage"></p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" >OK</button>
            </div>
          </div>
        </div>
      </div>
      <!-- end confirmation message alert -->
    </div>

    <div th:fragment="checkNoRoomPin">
      <div th:if="${room == null}">
        <div class="row">
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
          <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
            <h1 id="roomtype" >Raum-PIN?</h1>
            <div th:if="${pin != null}">
              <h3 id="roompin" >Raum <span th:text="${pin}" /> nicht gefunden!</h3>
            </div>
          </div>
          <div class="d-none d-md-block col-md-3 ">&nbsp;</div>
        </div>

        <form th:action="@{/}" name="nopin" method="GET">
          <div class="form-row">
            <div class="d-none d-md-block col-md-3">&nbsp;</div>
            <div class="col-xs-12 col-sm-12 col-md-6 mt-1" style="text-align: center;">
              <input type="submit" value="Zurück" class="form-control input-lg text-center">
            </div>
          </div>
        </form>
      </div>
    </div>


  </body>
</html>
